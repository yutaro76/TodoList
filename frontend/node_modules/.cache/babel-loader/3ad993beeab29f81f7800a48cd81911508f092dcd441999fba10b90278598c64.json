{"ast":null,"code":"var _jsxFileName = \"/Applications/js_project/todo_list/src/index.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, StrictMode } from \"react\";\nimport { createRoot } from 'react-dom/client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialTodos = [{\n  value: 'TODO #5',\n  id: 4,\n  checked: false,\n  removed: false\n}, {\n  value: 'TODO #4',\n  id: 3,\n  checked: true,\n  removed: false\n}, {\n  value: 'TODO #3',\n  id: 2,\n  checked: false,\n  removed: true\n}, {\n  value: 'TODO #2',\n  id: 1,\n  checked: true,\n  removed: true\n}, {\n  value: 'TODO #1',\n  id: 0,\n  checked: false,\n  removed: false\n}];\n// =====================================\n\nexport const App = () => {\n  _s();\n  const [text, setText] = useState('');\n  const [todos, setTodos] = useState(initialTodos);\n  const [filter, setFilter] = useState('all');\n  const handleChange = e => {\n    setText(e.target.value);\n  };\n  const handleSubmit = () => {\n    if (!text) return;\n    const newTodo = {\n      value: text,\n      id: new Date().getTime(),\n      checked: false,\n      removed: false\n    };\n    setTodos(todos => [newTodo, ...todos]);\n    setText('');\n  };\n  const handleTodo = (id, key, value) => {\n    setTodos(todos => {\n      const newTodos = todos.map(todo => {\n        if (todo.id === id) {\n          return {\n            ...todo,\n            [key]: value\n          };\n        } else {\n          return todo;\n        }\n      });\n      return newTodos;\n    });\n  };\n  const handleSort = filter => {\n    setFilter(filter);\n  };\n  const handleEmpty = () => {\n    setTodos(todos => todos.filter(todo => !todo.removed));\n  };\n  const filteredTodos = todos.filter(todo => {\n    switch (filter) {\n      case 'all':\n        return !todo.removed;\n      case 'checked':\n        return todo.checked && !todo.removed;\n      case 'unchecked':\n        return !todo.checked && !todo.removed;\n      case 'removed':\n        return todo.removed;\n      default:\n        return todo;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      defaultValue: \"all\",\n      onChange: e => handleSort(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"all\",\n        children: \"\\u3059\\u3079\\u3066\\u306E\\u30BF\\u30B9\\u30AF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"checked\",\n        children: \"\\u5B8C\\u4E86\\u3057\\u305F\\u30BF\\u30B9\\u30AF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"unchecked\",\n        children: \"\\u73FE\\u5728\\u306E\\u30BF\\u30B9\\u30AF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"removed\",\n        children: \"\\u3054\\u307F\\u7BB1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), filter === 'removed' ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleEmpty,\n      disabled: todos.filter(todo => todo.removed).length === 0,\n      children: \"\\u3054\\u307F\\u7BB1\\u3092\\u7A7A\\u306B\\u3059\\u308B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this) : filter !== 'checked' && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        handleSubmit();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: text,\n        onChange: e => handleChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"\\u8FFD\\u52A0\",\n        onSubmit: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: filteredTodos.map(todo => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            disabled: todo.removed,\n            checked: todo.checked,\n            onChange: () => handleTodo(todo.id, 'checked', !todo.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            disabled: todo.checked || todo.removed,\n            value: todo.value,\n            onChange: e => handleTodo(todo.id, 'value', e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleTodo(todo.id, 'removed', !todo.removed),\n            children: todo.removed ? '復元' : '削除'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this)]\n        }, todo.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"S7yFLtVV6k7UAKv1PrLHB8+356k=\");\n_c = App;\nconst root = createRoot(document.getElementById('root'));\nroot.render( /*#__PURE__*/_jsxDEV(StrictMode, {\n  children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 173,\n  columnNumber: 3\n}, this));\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","StrictMode","createRoot","jsxDEV","_jsxDEV","initialTodos","value","id","checked","removed","App","_s","text","setText","todos","setTodos","filter","setFilter","handleChange","e","target","handleSubmit","newTodo","Date","getTime","handleTodo","key","newTodos","map","todo","handleSort","handleEmpty","filteredTodos","children","defaultValue","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","length","onSubmit","preventDefault","type","_c","root","document","getElementById","render","$RefreshReg$"],"sources":["/Applications/js_project/todo_list/src/index.tsx"],"sourcesContent":["import React from 'react';\nimport { useState, StrictMode } from \"react\";\nimport { createRoot } from 'react-dom/client';\n\nconst initialTodos: Todo[] = [\n  {\n    value: 'TODO #5',\n    id: 4,\n    checked: false,\n    removed: false,\n  },\n  {\n    value: 'TODO #4',\n    id: 3,\n    checked: true,\n    removed: false,\n  },\n  {\n    value: 'TODO #3',\n    id: 2,\n    checked: false,\n    removed: true,\n  },\n  {\n    value: 'TODO #2',\n    id: 1,\n    checked: true,\n    removed: true,\n  },\n  {\n    value: 'TODO #1',\n    id: 0,\n    checked: false,\n    removed: false,\n  },\n];\n// =====================================\n\ntype Todo = {\n  value: string;\n  readonly id: number;\n  checked: boolean;\n  removed: boolean;\n};\n\ntype Filter = 'all' | 'checked' | 'unchecked' | 'removed';\n\nexport const App = () => {\n  const [text, setText] = useState('');\n  const [todos, setTodos] = useState<Todo[]>(initialTodos);\n  const [filter, setFilter] = useState<Filter>('all');\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setText(e.target.value);\n  };\n\n  const handleSubmit = () => {\n    if (!text) return;\n\n    const newTodo: Todo = {\n      value: text,\n      id: new Date().getTime(),\n      checked: false,\n      removed: false,\n    };\n\n    setTodos((todos) => [newTodo, ...todos]);\n    setText('');\n  };\n  \n  const handleTodo = <K extends keyof Todo, V extends Todo[K]>(\n    id: number,\n    key: K,\n    value: V\n  ) => {\n    setTodos((todos) => {\n      const newTodos = todos.map((todo) => {\n        if (todo.id === id) {\n          return { ...todo, [key]: value };\n        } else {\n          return todo;\n        }\n      });\n\n      return newTodos;\n    });\n  };\n\n  const handleSort = (filter: Filter) => {\n    setFilter(filter);\n  };\n\n  const handleEmpty = () => {\n    setTodos((todos) => todos.filter((todo) => !todo.removed));\n  };\n\n  const filteredTodos = todos.filter((todo) => {\n    switch (filter) {\n      case 'all':\n        return !todo.removed;\n      case 'checked':\n        return todo.checked && !todo.removed;\n      case 'unchecked':\n        return !todo.checked && !todo.removed;\n      case 'removed':\n        return todo.removed;\n      default:\n        return todo;\n    }\n  });\n\n  return (\n    <div>\n      <select\n        defaultValue=\"all\"\n        onChange={(e) => handleSort(e.target.value as Filter)}\n      >\n        <option value=\"all\">すべてのタスク</option>\n        <option value=\"checked\">完了したタスク</option>\n        <option value=\"unchecked\">現在のタスク</option>\n        <option value=\"removed\">ごみ箱</option>\n      </select>\n      {filter === 'removed' ? (\n        <button\n          onClick={handleEmpty}\n          disabled={todos.filter((todo) => todo.removed).length === 0}\n        >\n          ごみ箱を空にする\n        </button>\n      ) : (\n        filter !== 'checked' && (\n          <form\n            onSubmit={(e) => {\n              e.preventDefault();\n              handleSubmit();\n            }}\n          >\n            <input type=\"text\" value={text} onChange={(e) => handleChange(e)} />\n            <input type=\"submit\" value=\"追加\" onSubmit={handleSubmit} />\n          </form>\n        )\n      )}\n      <ul>\n        {filteredTodos.map((todo) => {\n          return (\n            <li key={todo.id}>\n              <input\n                type=\"checkbox\"\n                disabled={todo.removed}\n                checked={todo.checked}\n                onChange={() => handleTodo(todo.id, 'checked', !todo.checked)}\n              />\n              <input\n                type=\"text\"\n                disabled={todo.checked || todo.removed}\n                value={todo.value}\n                onChange={(e) => handleTodo(todo.id, 'value', e.target.value)}\n              />\n              <button onClick={() => handleTodo(todo.id, 'removed', !todo.removed)}>\n                {todo.removed ? '復元' : '削除'}\n              </button>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nconst root = createRoot(document.getElementById('root') as Element);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}